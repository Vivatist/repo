# NovaVPN ‚Äî –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞

> –≠—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤. –ß–∏—Ç–∞–π –µ–≥–æ –ø–µ—Ä–≤—ã–º –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º.

---
–í–ê–ñ–ù–û!: –≤—Å–µ–≥–¥–∞ —Ä–∞—Å—Å—É–∂–¥–∞–π –Ω–∞ –†–£–°–°–ö–û–ú —è–∑—ã–∫–µ! –ö–æ–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º, –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º. –¢—ã –æ–±—â–∞–µ—à—å—Å—è —Å —á–µ–ª–æ–≤–µ–∫–æ–º –±–µ–∑ –∑–Ω–∞–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ.

## 1. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

NovaVPN ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π VPN-–ø—Ä–æ—Ç–æ–∫–æ–ª –ø–æ–≤–µ—Ä—Ö UDP —Å —Ç—Ä–µ–º—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è):

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | –°—É—Ç—å |
|-----------|-------------|------|
| ü•á 1 | **–ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ (Stealth)** | –¢—Ä–∞—Ñ–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–æ—Ç–ª–∏—á–∏–º –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ HTTPS –¥–ª—è DPI. –í—Å–µ –ø–∞–∫–µ—Ç—ã –æ–±—ë—Ä–Ω—É—Ç—ã –≤ TLS 1.2 Application Data Record Header. –ü–æ—Ä—Ç 443/UDP. –õ—é–±–æ–µ —Ä–µ—à–µ–Ω–∏–µ, —É—Ö—É–¥—à–∞—é—â–µ–µ –º–∞—Å–∫–∏—Ä–æ–≤–∫—É, –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ. |
| ü•à 2 | **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, zero-alloc hot path, plain ChaCha20 XOR –±–µ–∑ auth tag –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, counter-nonce –≤–º–µ—Å—Ç–æ random nonce, pre-allocated –±—É—Ñ–µ—Ä—ã, inline –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–∫–µ—Ç–æ–≤. |
| ü•â 3 | **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | ECDH Curve25519, ChaCha20-Poly1305 AEAD –¥–ª—è handshake, HKDF-SHA256, HMAC-SHA256. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞, –Ω–æ –Ω–µ –≤ —É—â–µ—Ä–± –º–∞—Å–∫–∏—Ä–æ–≤–∫–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –û—Å–æ–∑–Ω–∞–Ω–Ω—ã–µ trade-off: –Ω–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ Data-–ø–∞–∫–µ—Ç–æ–≤, –Ω–µ—Ç replay protection –¥–ª—è –¥–∞–Ω–Ω—ã—Ö. |

–ü—Ä–∏ –ª—é–±–æ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–º —Ä–µ—à–µ–Ω–∏–∏ —Å–≤–µ—Ä—è–π—Å—è —Å —ç—Ç–∏–º –ø–æ—Ä—è–¥–∫–æ–º. –ï—Å–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —É—Ö—É–¥—à–∞–µ—Ç –º–∞—Å–∫–∏—Ä–æ–≤–∫—É ‚Äî –æ—Ç–∫–ª–æ–Ω—è–π. –ï—Å–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É—Ö—É–¥—à–∞–µ—Ç –º–∞—Å–∫–∏—Ä–æ–≤–∫—É ‚Äî –æ—Ç–∫–ª–æ–Ω—è–π.

---

## 2. –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

–ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ:

```
NOVAVPN_PROTOCOL.md  (–∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
```

–≠—Ç–æ **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã** –ø–æ wire format, –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏, handshake, –ø–µ—Ä–µ–¥–∞—á–µ –¥–∞–Ω–Ω—ã—Ö –∏ –≤—Å–µ–º –¥–µ—Ç–∞–ª—è–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞. –î–æ–∫—É–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ –Ω–µ–º—É –º–æ–∂–Ω–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç –Ω–∞ –ª—é–±–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ.

### ‚ö†Ô∏è –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ

**–ü–æ—Å–ª–µ –ö–ê–ñ–î–û–ì–û –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ (–∫–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–≤–µ—Ä—è—Ç—å `NOVAVPN_PROTOCOL.md` —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º –∏ –≤–Ω–æ—Å–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–∞–≤–∫–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç.** –ü—Ä–æ—Ç–æ–∫–æ–ª –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ–≥–¥–∞.

---

## 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ú–æ–¥—É–ª—å | –ü—É—Ç—å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|------|-----------|
| –°–µ—Ä–≤–µ—Ä | `vpn-server/` | Go, Linux, systemd, –º–æ–Ω–æ–ª–∏—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ |
| –ö–ª–∏–µ–Ω—Ç | `vpn-client-windows/` | Go, Windows, Walk GUI + Windows Service, Clean Architecture |
| –ë–µ–Ω—á–º–∞—Ä–∫ | `vpn-server/cmd/vpnbench/` | –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Ç–µ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ (N –∫–ª–∏–µ–Ω—Ç–æ–≤, –º–µ—Ç—Ä–∏–∫–∏ RTT/throughput/–ø–æ—Ç–µ—Ä—å) |
| –ü—Ä–æ—Ç–æ–∫–æ–ª | `NOVAVPN_PROTOCOL.md` | **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π** –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –ø–æ wire format |
| –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ | `CLIENT_SERVER_INTERACTION.md` | –õ–æ–≥–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞: –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª, –º–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π, reconnect, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ |
| –ö–æ–Ω—Ç–µ–∫—Å—Ç | `CONTEXT.md` | –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫–æ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º |
| –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ | `Docs/–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.md` | –≠—Ç–∞–ø—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –±–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–Ω—á–º–∞—Ä–∫–æ–≤ |

**–ü—Ä–∞–≤–∏–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
- –ü–æ—Å–ª–µ –ö–ê–ñ–î–û–ì–û –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ (–∫–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞) ‚Äî –æ–±–Ω–æ–≤–ª—è–π `NOVAVPN_PROTOCOL.md`.
- –ü–æ—Å–ª–µ –ö–ê–ñ–î–û–ì–û –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞ (–º–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π, handshake, reconnect, keepalive, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è) ‚Äî –æ–±–Ω–æ–≤–ª—è–π `CLIENT_SERVER_INTERACTION.md`.
- –ü–æ—Å–ª–µ –ö–ê–ñ–î–û–ì–û –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ ‚Äî –æ–±–Ω–æ–≤–ª—è–π `Docs/–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.md` –∏ –ø—Ä–æ–≥–æ–Ω—è–π –±–µ–Ω—á–º–∞—Ä–∫ –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –±–∞–∑–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫.
- –ü–æ—Å–ª–µ –ö–ê–ñ–î–û–ì–û –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ (wire format, —Ç–∏–ø—ã –ø–∞–∫–µ—Ç–æ–≤, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, handshake) ‚Äî **–æ–±–Ω–æ–≤–ª—è–π –±–µ–Ω—á–º–∞—Ä–∫** (`vpn-server/cmd/vpnbench/`), —Ç.–∫. –æ–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π VPN-–∫–ª–∏–µ–Ω—Ç –∏ –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–º—É –ø—Ä–æ—Ç–æ–∫–æ–ª—É. –ò–Ω–∞—á–µ –±–µ–Ω—á–º–∞—Ä–∫ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É.

## 3.1. –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∫–ª–∏–µ–Ω—Ç–æ–≤

–§–∞–π–ª `CLIENT_SERVER_INTERACTION.md` ‚Äî **–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ NovaVPN –Ω–∞ –ª—é–±–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ. –ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–≤–µ—Ä—è–π—Å—è** —Å —ç—Ç–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º. –û–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç:
- –ú–∞—à–∏–Ω—É —Å–æ—Å—Ç–æ—è–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞ (Disconnected ‚Üí Connecting ‚Üí Connected ‚Üí Disconnecting)
- –ü–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (Connect, Data exchange, Disconnect)
- –ê–ª–≥–æ—Ä–∏—Ç–º —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏—è (1-RTT Handshake, PSK bootstrap, PSK fallback)
- Keepalive –∏ Dead-peer detection
- Auto-reconnect —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff –∏ 0-RTT resume
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (counter-nonce, plain ChaCha20)
- –í—Å–µ —Ç–∏–ø—ã –ø–∞–∫–µ—Ç–æ–≤ –∏ wire format
- –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–ª–∏–µ–Ω—Ç–∞ (Clean Architecture / DDD)

```
domain/         ‚Üí –ß–∏—Å—Ç—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (vpn, network, crypto, ipc, config)
infrastructure/ ‚Üí –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (WinTUN, Named Pipes, ChaCha20, netsh, JSON config)
application/    ‚Üí –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, DI, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è (vpnservice/)
gui/            ‚Üí Walk GUI + —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç—Ä–µ–π
service/        ‚Üí Windows Service (SCM), IPC-—Å–µ—Ä–≤–µ—Ä
```

- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä—å: `infrastructure ‚Üí domain`, `application ‚Üí domain + infrastructure`
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∫–æ–¥ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –∑–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –≤ `internal/domain/`
- –î–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞: GUI (`NovaVPN.exe`, –±–µ–∑ –∞–¥–º–∏–Ω-–ø—Ä–∞–≤) –∏ Service (`novavpn-service.exe`, Windows Service)
- IPC: Windows Named Pipe `\\.\pipe\NovaVPN`, length-prefixed JSON (4 bytes LE)

## 5. –°–µ—Ä–≤–µ—Ä ‚Äî –ø–ª–æ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
internal/server/   ‚Äî VPNServer, SessionManager, IPPool, handler, batch_linux (sendmmsg/recvmmsg)
internal/protocol/ ‚Äî wire format, crypto operations, handshake structs
internal/auth/     ‚Äî UserStore (YAML, Argon2id, –∫–µ—à –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
internal/tun/      ‚Äî Linux TUN device (ioctl), GRO/GSO (IFF_VNET_HDR, TCP-—Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è)
config/            ‚Äî ServerConfig (YAML)
```

## 6. –ö–æ–Ω–≤–µ–Ω—Ü–∏–∏ –∫–æ–¥–∞

- **Go 1.21+**, –±–µ–∑ CGO. Build tag `//go:build windows` –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –ª–æ–≥–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º**, –∏–º–µ–Ω–∞ —Ç–∏–ø–æ–≤/—Ñ—É–Ω–∫—Ü–∏–π ‚Äî –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `log`, —Ñ–æ—Ä–º–∞—Ç `[COMPONENT] –°–æ–æ–±—â–µ–Ω–∏–µ` (SERVER, TUN, UDP, HANDSHAKE, SESSION, VPN, NET, IPC, GUI, SERVICE –∏ –¥—Ä.)
- **–û—à–∏–±–∫–∏:** `fmt.Errorf("–∫–æ–Ω—Ç–µ–∫—Å—Ç: %w", err)`, `log.Fatalf` ‚Äî —Ç–æ–ª—å–∫–æ –≤ `main`
- **Concurrency:** `atomic.*` –¥–ª—è lock-free state/counters, `sync.RWMutex` –¥–ª—è maps, `sync.WaitGroup` + `stopCh chan struct{}` –¥–ª—è –≥–æ—Ä—É—Ç–∏–Ω, `context.Context` –¥–ª—è graceful shutdown
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** constant-time —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (`crypto/subtle`), fake-hash –ø—Ä–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–º email (timing attack protection), `ZeroKey()`/`zeroBytes()` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∫–ª—é—á–µ–π


## 7. –°—Ç–∞—Ç—É—Å—ã –∫–ª–∏–µ–Ω—Ç–∞

–ö–ª–∏–µ–Ω—Ç –∏–º–µ–µ—Ç —Ä–æ–≤–Ω–æ **3 —Å–æ—Å—Ç–æ—è–Ω–∏—è**, –∫–∞–∂–¥–æ–µ –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è —Ü–≤–µ—Ç–Ω—ã–º –º–∞—Ä–∫–µ—Ä–æ–º:

| –°–æ—Å—Ç–æ—è–Ω–∏–µ | –¶–≤–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|------|----------|
| –û—Ç–∫–ª—é—á—ë–Ω / –û—à–∏–±–∫–∞ | üîò –°–µ—Ä—ã–π | VPN –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω, –ª–∏–±–æ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è |
| –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ / –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ | üü° –ñ—ë–ª—Ç—ã–π | –ò–¥—ë—Ç handshake, 0-RTT resume –∏–ª–∏ auto-reconnect |
| –ü–æ–¥–∫–ª—é—á—ë–Ω | üü¢ –ó–µ–ª—ë–Ω—ã–π | –¢—É–Ω–Ω–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω, –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è |

–≠—Ç–∏ —Ç—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è **–≤—Å–µ—Ö** –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –ª—é–±–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ. –¶–≤–µ—Ç–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã.

---

## 8. –ü—Ä–∏–Ω—Ü–∏–ø—ã —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (–≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã)

–≠—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ Windows-–∫–ª–∏–µ–Ω—Ç–∞ –∏ –¥–ª—è –≤—Å–µ—Ö –±—É–¥—É—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤:

### 8.1. –ß–∏—Å—Ç–∞—è —Ä–∞–∑–¥–µ–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- Domain layer (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã) ‚Üí Infrastructure layer (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏) ‚Üí Application layer (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä—å: infrastructure –∑–∞–≤–∏—Å–∏—Ç –æ—Ç domain, –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∫–æ–¥ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –∑–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ (TUN, —Å–µ—Ç—å, IPC, –∫–æ–Ω—Ñ–∏–≥)
- –≠—Ç–∞–ª–æ–Ω: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `vpn-client-windows/internal/domain/` + `infrastructure/`

### 8.2. –ü—Ä–æ—Å—Ç–æ–π –Ω–µ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- –ú–∏–Ω–∏–º—É–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤: —Å—Ç–∞—Ç—É—Å (—Ü–≤–µ—Ç–Ω–æ–π –º–∞—Ä–∫–µ—Ä), –∫–Ω–æ–ø–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è, –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ù–∏–∫–∞–∫–∏—Ö –ª–∏—à–Ω–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤, –≥—Ä–∞—Ñ–∏–∫–æ–≤, –ª–æ–≥–æ–≤ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º UI
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –≤ **–æ–¥–∏–Ω –∫–ª–∏–∫** –ø–æ—Å–ª–µ –ø–µ—Ä–≤–∏—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ª–æ–≥–∏) ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É, –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ

### 8.3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ

- –ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–Ω—Ñ–∏–≥ (—Å–µ—Ä–≤–µ—Ä, credentials, PSK) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –¥–∏—Å–∫
- –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
- –°–µ—Å—Å–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–ª—é—á–∏, SessionID, counter) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è 0-RTT resume
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–≤–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ

### 8.4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

- –ö–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã
- –ê–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ (–µ—Å–ª–∏ —Ä–∞–Ω–µ–µ –±—ã–ª –ø–æ–¥–∫–ª—é—á—ë–Ω)
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ-–∑–∞–≤–∏—Å–∏–º–∞—è: Windows Service, Android VpnService, macOS LaunchAgent, Linux systemd user unit

### 8.5. –ò–Ω–¥–∏–∫–∞—Ü–∏—è —Ç—Ä—ë—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ —Ü–≤–µ—Ç–µ

- –°–µ—Ä—ã–π, –∂—ë–ª—Ç—ã–π, –∑–µ–ª—ë–Ω—ã–π ‚Äî —Å–º. —Ä–∞–∑–¥–µ–ª 4
- –ú–∞—Ä–∫–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–º UI –∏ –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Ç—Ä–µ–µ / —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–µ
- –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º–∏ –∏ –æ—Ç—Ä–∞–∂–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### 8.6. –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤

- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ¬´–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è¬ª UI **—Å—Ä–∞–∑—É** (–¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ —Å–µ—Ä–≤–∏—Å—É/—Å–µ—Ä–≤–µ—Ä—É) –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ¬´–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ¬ª ‚Äî –∂—ë–ª—Ç—ã–π –º–∞—Ä–∫–µ—Ä, —Ç–µ–∫—Å—Ç, –∏–∫–æ–Ω–∫–∞ —Ç—Ä–µ—è, —Ç—É–ª—Ç–∏–ø
- –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∂–¥–∞—Ç—å –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–∏—Å–∞ –∏–ª–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ü–∏–∫–ª–∞ –ø–æ–ª–ª–∏–Ω–≥–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ¬´–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è¬ª ‚Äî UI –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ ¬´–û—Ç–∫–ª—é—á–µ–Ω–∏–µ¬ª
- –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–µ—Ç–∏ (network monitor) ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∏–∑ –∑–µ–ª—ë–Ω–æ–≥–æ –≤ –∂—ë–ª—Ç—ã–π
- –í—Å–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–∏–∫–æ–Ω–∫–∞ —Ç—Ä–µ—è, —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—É—Å–∞, —Ç—É–ª—Ç–∏–ø, –∫–Ω–æ–ø–∫–∏, –ø—É–Ω–∫—Ç—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é) –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è **–∞—Ç–æ–º–∞—Ä–Ω–æ** –≤ –æ–¥–Ω–æ–º synchronize-–±–ª–æ–∫–µ
- –ü–æ–ª–ª–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è/–∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –Ω–æ –Ω–µ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI

---

## 9. –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (vpnbench)

–£—Ç–∏–ª–∏—Ç–∞ `vpn-server/cmd/vpnbench/` ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è VPN-—Å–µ—Ä–≤–µ—Ä–∞.

### 9.1. –ß—Ç–æ –∏–∑–º–µ—Ä—è–µ—Ç

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| Handshake latency | min / avg / p50 / p95 / p99 / max ‚Äî –≤—Ä–µ–º—è –ø–æ–ª–Ω–æ–≥–æ 1-RTT —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏—è |
| RTT (keepalive) | min / avg / p50 / p95 / p99 / max ‚Äî round-trip time keepalive –ø–∞–∫–µ—Ç–æ–≤ |
| Throughput | –ø–∞–∫–µ—Ç–æ–≤/—Å–µ–∫, –ú–±–∏—Ç/—Å |
| –ü–æ—Ç–µ—Ä–∏ | % –ø–æ—Ç–µ—Ä—å keepalive –ø–∞–∫–µ—Ç–æ–≤ (request-response) |
| –ú–∞–∫—Å. –∫–ª–∏–µ–Ω—Ç–æ–≤ | stress-—Ä–µ–∂–∏–º: —Å—Ç—É–ø–µ–Ω—á–∞—Ç–æ–µ –Ω–∞—Ä–∞—â–∏–≤–∞–Ω–∏–µ –¥–æ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ |
| –û—à–∏–±–∫–∏ | handshake failures, send errors, recv timeouts |

### 9.2. –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å

–ë–µ–Ω—á–º–∞—Ä–∫ ‚Äî –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π VPN-–∫–ª–∏–µ–Ω—Ç –±–µ–∑ TUN. –í—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∏–π handshake (ECDH, Argon2id –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è) –∏ –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏. –¢—Ä–∏ —Ä–µ–∂–∏–º–∞: `rtt` (keepalive ping-pong), `throughput` (data flood), `stress` (—Å—Ç—É–ø–µ–Ω—á–∞—Ç–æ–µ –Ω–∞—Ä–∞—â–∏–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å **–Ω–∞ —Å–∞–º–æ–º —Å–µ—Ä–≤–µ—Ä–µ** (localhost) –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.

**–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
# –ö—Ä–æ—Å—Å-–∫–æ–º–ø–∏–ª—è—Ü–∏—è
GOOS=linux GOARCH=amd64 go build -o vpnbench ./cmd/vpnbench/

# RTT (keepalive ping-pong)
./vpnbench -server 127.0.0.1:443 -psk <hex64> \
  -email test@novavpn.app -password NovaVPN2026! \
  -clients 10 -duration 15s -interval 100ms \
  -mode rtt -json —Ä–µ–∑—É–ª—å—Ç–∞—Ç.json

# Throughput (data flood)
./vpnbench -server 127.0.0.1:443 -psk <hex64> \
  -email test@novavpn.app -password NovaVPN2026! \
  -clients 1 -duration 15s \
  -mode throughput -json —Ä–µ–∑—É–ª—å—Ç–∞—Ç.json

# Stress (—Å—Ç—É–ø–µ–Ω—á–∞—Ç–æ–µ –Ω–∞—Ä–∞—â–∏–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤)
./vpnbench -server 127.0.0.1:443 -psk <hex64> \
  -email test@novavpn.app -password NovaVPN2026! \
  -mode stress -stress-start 10 -stress-step 25 -stress-max 500 \
  -stress-step-duration 15s -json —Ä–µ–∑—É–ª—å—Ç–∞—Ç.json
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å –Ω–æ—É—Ç–±—É–∫–∞ (bench.ps1):**

–°–∫—Ä–∏–ø—Ç `vpn-server/deploy/bench.ps1` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç, –¥–µ–ø–ª–æ–∏—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–∏—é –∏–∑ 5 —Ç–µ—Å—Ç–æ–≤ (throughput√ó1, throughput√ó10, rtt√ó1, rtt√ó10, rtt√ó50) —Å –∏—Ç–æ–≥–æ–≤–æ–π —Å–≤–æ–¥–∫–æ–π –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º —Å –¥—Ä—É–≥–∏–º–∏ VPN-–ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏.

```powershell
# –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä (5 —Ç–µ—Å—Ç–æ–≤)
.\bench.ps1

# –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (3 —Ç–µ—Å—Ç–∞: throughput√ó1, rtt√ó1, rtt√ó10)
.\bench.ps1 -quick

# –° –¥—Ä—É–≥–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
.\bench.ps1 -duration 30s
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ GRO ON vs OFF (bench-gro.ps1):**

–°–∫—Ä–∏–ø—Ç `vpn-server/deploy/bench-gro.ps1` –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç `enable_gro_gso` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –∏ –ø—Ä–æ–≥–æ–Ω—è–µ—Ç —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫ (3 —Ç–µ—Å—Ç–∞ –¥–ª—è OFF, 3 –¥–ª—è ON) —Å —Ç–∞–±–ª–∏—Ü–µ–π –¥–µ–ª—å—Ç.

```powershell
.\bench-gro.ps1
.\bench-gro.ps1 -duration 30s
```

**Stress-—Ç–µ—Å—Ç (bench-stress.ps1):**

–°–∫—Ä–∏–ø—Ç `vpn-server/deploy/bench-stress.ps1` —Å—Ç—É–ø–µ–Ω—á–∞—Ç–æ –Ω–∞—Ä–∞—â–∏–≤–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–∞–∂–¥—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ (keepalive + data burst). –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç: ¬´—Å–µ—Ä–≤–µ—Ä —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ç—è–Ω–µ—Ç N –∫–ª–∏–µ–Ω—Ç–æ–≤¬ª.

```powershell
.\bench-stress.ps1                              # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10‚Üí200, —à–∞–≥ 25
.\.bench-stress.ps1 -maxClients 500 -step 10      # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç
.\bench-stress.ps1 -stepDuration 30s            # –ë–æ–ª–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç—É–ø–µ–Ω–∏
```

### 9.3. –ö–æ–≥–¥–∞ –ø—Ä–æ–≥–æ–Ω—è—Ç—å

- **–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** —Å–µ—Ä–≤–µ—Ä–∞ ‚Äî –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –±–∞–∑–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫
- **–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞** hot path (udpReadLoop, tunReadLoop, processUDPPacket)
- **–ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º** ‚Äî –¥–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 9.4. –ë–∞–∑–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–¢–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ `Docs/–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.md`. –ü—Ä–∏ –ø—Ä–æ–≥–æ–Ω–µ –±–µ–Ω—á–º–∞—Ä–∫–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞–π** —Å –±–∞–∑–æ–≤—ã–º–∏ –∏ –æ–±–Ω–æ–≤–ª—è–π –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É.
