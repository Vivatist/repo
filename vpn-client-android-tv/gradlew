#!/bin/sh
# Gradle Wrapper Launcher Script
# Delegates to the Gradle wrapper jar

# Determine the Java command to use to start the JVM.
if [ -n "$JAVA_HOME" ] ; then
    JAVACMD="$JAVA_HOME/bin/java"
else
    JAVACMD="java"
fi

# Resolve APP_HOME
APP_HOME=$(cd "$(dirname "$0")" && pwd)

# Determine the distribution URL from wrapper properties
WRAPPER_PROPERTIES="$APP_HOME/gradle/wrapper/gradle-wrapper.properties"
DIST_URL=$(grep 'distributionUrl' "$WRAPPER_PROPERTIES" | sed 's/distributionUrl=//' | sed 's/\\//g')

# Check if gradle-wrapper.jar exists, if not download it
WRAPPER_JAR="$APP_HOME/gradle/wrapper/gradle-wrapper.jar"
if [ ! -f "$WRAPPER_JAR" ]; then
    echo "Downloading Gradle wrapper..."
    echo "Please run this project in Android Studio or install Gradle manually."
    echo ""
    echo "To build manually:"
    echo "  1. Install Gradle 8.5: https://gradle.org/install/"
    echo "  2. Run: gradle wrapper"
    echo "  3. Then: ./gradlew assembleDebug"
    exit 1
fi

exec "$JAVACMD" \
    -classpath "$WRAPPER_JAR" \
    org.gradle.wrapper.GradleWrapperMain "$@"
